<!DOCTYPE html>
<html lang="en">
<head>
        <link rel="icon" href="assets/imgs/ydslogo.jpg" type="image/gif" sizes="16x16">
        <link rel="stylesheet" href="style.css">
        <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">


<title>JM</title>
</head>
<body>
   <div class="container text-center">
       <div class="link mt-4">
      <a href='/' class="btn btn-success">Home</a>
      <button  class="btn btn-success" id="btn2">UserData</button>
       </div>

<div class="output">
    <ul class="list-group" id="ul">

    </ul>
</div>

   </div>
</body>
<script>

const ul=document.getElementById("ul")
const fetchData=async()=>{
    try{
        
    const response=await fetch("/getData");
    
    const body=await response.json();
    const data=body.data;
    data.forEach(element=>{
        const li=document.createElement("li");
        li.setAttribute("class","list-group-item");
        li.innerHTML=`<div>
            <p><span style="font-weight:bold">Name:</span>${element.name}</p>
            <p><span style="font-weight:bold">Email:</span>${element.email}</p>
            <p><span style="font-weight:bold">Number:</span>${element.phone}</p>
            <p><span style="font-weight:bold">Message:</span>${element.msg}</p> 
            </div>`;
            ul.appendChild(li);
    })
  
    }
    catch(err){
        console.log(err)
    }
   
  
} 
document.getElementById("btn2").addEventListener("click",fetchData)


/*



 const li=document.createElement("li");
        li.setAttribute("class","list-group-item");
        li.innerHTML=`<div>
            <h2>Name:${element.name}</h2>
            <h3>Email:${element.email}</h3>
            <h3>Number:${element.phone}</h3>
            <p>Message:${element.msg}</p> 
            </div>`;
            ul.appendChild(li);



*/
</script>
</html>